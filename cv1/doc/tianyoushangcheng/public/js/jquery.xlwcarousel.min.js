(function (b) {
    b.fn.extend({
        carousel: function (c) {
            function h() {
                var b = e.find("a").length;
                clearInterval(a.timer);
                a.timer = setInterval(function () {
                    var d = a.currentPicIndex + 1;
                    d == b && (d = 0);
                    f.find("span").eq(d).trigger("mouseenter")
                }, a.delay)
            }

            var a = {
                currentZIndex: 1,
                currentPicIndex: 0,
                timer: null,
                delay: 3E3,
                width: "570px",
                height: "270px",
                navClass: "xlw-nav",
                navNormalClass: "xlw-normal",
                navCurrentClass: "xlw-current"
            }, a = b.extend(a, c), e = this.children().first(), f = this.children().last();
            c = e.find("a:first");
            c.css("zIndex", a.currentZIndex);
            a.width = c.width();
            a.height = c.height();
            this.css({width: a.width, height: a.height, position: "relative", overflow: "hidden"});
            f.css({
                position: "absolute",
                zIndex: 30,
                right: "5px",
                bottom: "5px",
                fontWeight: 700,
                fontFamily: "Arial"
            });
            this.hover(function () {
                clearInterval(a.timer)
            }, function () {
                h()
            });
            var g = "";
            e.find("a").each(function (b) {
                g += '<span class="' + a.navNormalClass + '">' + (b + 1) + "</span>"
            });
            f.html(g).children().addClass(a.navClass).first().removeClass(a.navNormalClass).addClass(a.navCurrentClass);
            f.find("span").each(function () {
                b(this).on("mouseenter", function (c) {
                    b(this).removeClass(a.navNormalClass).addClass(a.navCurrentClass).siblings().removeClass(a.navCurrentClass).addClass(a.navNormalClass);
                    var d = b(this).index();
                    e.find("a").eq(d).css({left: a.width, zIndex: a.currentZIndex++}).animate({left: "0px"});
                    a.currentPicIndex = d;
                    c.stopPropagation()
                })
            });
            h()
        }
    })
})(jQuery);